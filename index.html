<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turnike Teknik Destek</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #2e2b2b;
            padding: 20px;
        }

        /* Floating Chat Button */
        .chat-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .chat-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }

        .chat-button svg {
            width: 24px;
            height: 24px;
            fill: rgb(255, 255, 255);
        }

        /* Chat Panel */
        .chat-panel {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 400px;
            height: 600px;
            background: rgb(43, 40, 40);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 1001;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: rgb(19, 18, 18);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-title {
            font-size: 16px;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: background 0.2s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
        }

        .user-message {
            background: #667eea;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 8px;
        }

        .bot-message {
            background: #f1f3f5;
            color: #333;
            align-self: flex-start;
            border-bottom-left-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
        }

        .quick-btn {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            color: #1976d2;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quick-btn:hover {
            background: #bbdefb;
            transform: translateY(-1px);
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #dee2e6;
            border-radius: 25px;
            outline: none;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }

        .chat-input:focus {
            border-color: #667eea;
        }

        .send-btn {
            width: 45px;
            height: 45px;
            background: #667eea;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .send-btn:hover {
            background: #5a6fd8;
            transform: scale(1.05);
        }

        .send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .send-btn svg {
            width: 18px;
            height: 18px;
            fill: white;
        }

        .typing-indicator {
            display: none;
            align-self: flex-start;
            padding: 12px 16px;
            background: #f1f3f5;
            border-radius: 18px;
            border-bottom-left-radius: 8px;
            border: 1px solid #e9ecef;
            font-style: italic;
            color: #666;
            font-size: 14px;
        }

        .demo-content {
            max-width: 800px;
            margin: 0 auto;
            background: rgb(16, 16, 235);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(255, 255, 255, 0.1);
        }

        .demo-content h1 {
            color: #ffffff;
            margin-bottom: 20px;
            text-align: center
        }

        .demo-content p {
            color: #ffffff;
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: center;
        }

        @media (max-width: 480px) {
            .chat-panel {
                width: calc(100vw - 40px);
                right: 20px;
                left: 20px;
                height: 550px;
            }
            
            .quick-actions {
                justify-content: center;
            }
            
            .quick-btn {
                font-size: 11px;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="demo-content">
        <h1>MAKSÄ°SOFT Turnike Teknik Destek Sistemi</h1>
        <p>SaÄŸ alt kÃ¶ÅŸedeki sohbet butonuna tÄ±klayarak teknik destek chatbot'una ulaÅŸabilirsiniz.</p>
        <p>Turnike sistemleriyle ilgili sorunlarÄ±nÄ±z iÃ§in hemen yardÄ±m alÄ±n.</p>
    </div>

    <!-- Chat Button -->
    <button class="chat-button" id="chatButton">
        <svg viewBox="0 0 24 24">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v3c0 .6.4 1 1 1 .2 0 .4-.1.6-.2L14.5 18H20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12H5v-2h8v2zm3-3H5V9h11v2zm0-3H5V6h11v2z"/>
        </svg>
    </button>

    <!-- Chat Panel -->
    <div class="chat-panel" id="chatPanel">
        <div class="chat-header">
            <div class="header-brand"></div>
            <div class="brand-logo"></div>
            <div class="chat-title">ğŸ”§ Turnike Teknik Destek</div>
            <button class="close-btn" id="closeBtn">&times;</button>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                ğŸ‘‹ Merhaba! Turnike sistemleriyle ilgili teknik sorunlarÄ±nÄ±zda size yardÄ±mcÄ± olabilirim. 
                <br><br>
                HÄ±zlÄ± Ã§Ã¶zÃ¼m iÃ§in aÅŸaÄŸÄ±daki butonlarÄ± kullanabilir veya sorununuzu detaylÄ± yazabilirsiniz:
            </div>
            <div class="quick-actions">
                <button class="quick-btn" onclick="chatbot.quickQuestion('ekran Ã§alÄ±ÅŸmÄ±yor')">ğŸ“º Ekran</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('kart okumuyor')">ğŸ’³ Kart</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('turnike aÃ§Ä±lmÄ±yor')">ğŸšª GeÃ§iÅŸ</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('sistem dondu')">ğŸ”„ Sistem</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('aÄŸ sorunu')">ğŸ“¡ Ä°nternet</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('test')">ğŸ” Test</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('performans')">âš¡ HÄ±z</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('bakÄ±m')">ğŸ§¹ BakÄ±m</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('acil durum')">ğŸš¨ Acil</button>
                <button class="quick-btn" onclick="chatbot.quickQuestion('teknik destek')">ğŸ“ Destek</button>
            </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
            Teknik destek yazÄ±yor...
        </div>
        
        <div class="chat-input-container">
            <input type="text" class="chat-input" id="chatInput" placeholder="Sorununuzu buraya yazÄ±n... (Ã¶rn: kart okumuyor)" maxlength="250">
            <button class="send-btn" id="sendBtn">
                <svg viewBox="0 0 24 24">
                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        class TurnikeChatbot {
            constructor() {
                this.chatButton = document.getElementById('chatButton');
                this.chatPanel = document.getElementById('chatPanel');
                this.closeBtn = document.getElementById('closeBtn');
                this.currentState = 'initial'; 
                this.currentProblem = ''; 
                this.chatInput = document.getElementById('chatInput');
                this.sendBtn = document.getElementById('sendBtn');
                this.chatMessages = document.getElementById('chatMessages');
                this.typingIndicator = document.getElementById('typingIndicator');
                
                this.knowledgeBase = [
// Greeting and Initial Interaction
                    {
                        keywords: ['merhaba', 'selam', 'baÅŸla', 'yardÄ±m', 'destek', 'hello', 'hi'],
                        response: 'ğŸ‘‹ Merhaba! Turnike sistemleriyle ilgili teknik sorunlarÄ±nÄ±zda size yardÄ±mcÄ± olabilirim. HÄ±zlÄ± Ã§Ã¶zÃ¼m iÃ§in aÅŸaÄŸÄ±daki butonlarÄ± kullanabilir veya sorununuzu detaylÄ± yazabilirsiniz.',
                        category: 'greeting'
                    },

                    // Display and Screen Issues
                    {
                        keywords: ['ekran', 'Ã§alÄ±ÅŸmÄ±yor', 'aÃ§Ä±lmÄ±yor', 'gÃ¶rÃ¼ntÃ¼', 'display', 'monitor', 'siyah', 'boÅŸ', 'Ekranda gÃ¶kkuÅŸaÄŸÄ± var  '],
                        response: 'ğŸ“º **Ekran GÃ¶rÃ¼ntÃ¼leme Sorunu**\n\n**Ä°lk kontroller:**\nâ€¢ GÃ¼Ã§ adaptÃ¶rÃ¼nÃ¼n 5V 3A deÄŸerinde ve saÄŸlam takÄ±ldÄ±ÄŸÄ±ndan emin olun\nâ€¢ HDMI kablosunun her iki ucundan da sÄ±kÄ±ca takÄ±lÄ± olduÄŸunu kontrol edin\nâ€¢ MonitÃ¶r/TV\'nin doÄŸru HDMI giriÅŸinde olduÄŸunu ve aÃ§Ä±k olduÄŸunu kontrol edin\n\n**Muhtemel Ã§Ã¶zÃ¼mler:**\nâ€¢ FarklÄ± bir HDMI kablosu deneyin\nâ€¢ BaÅŸka bir monitÃ¶r/TV ile test edin\nâ€¢ Sistem baÅŸlatma sÄ±rasÄ±nda Raspberry Pi\'Ä±n yeÅŸil LED\'inin yanÄ±p sÃ¶ndÃ¼ÄŸÃ¼nÃ¼ gÃ¶zlemleyin\n\n**KalÄ±cÄ± Ã§Ã¶zÃ¼m:** SD kartÄ±nÄ±z bozulmuÅŸ olabilir. Pi3/Pi4 iÃ§in Ã¶zel hazÄ±rlanmÄ±ÅŸ turnike yazÄ±lÄ±mÄ±nÄ±n yeniden yÃ¼klenmesi gerekebilir.',
                        category: 'hardware'
                    },
                    // Card and QR Code Reading Issues
                    {
    keywords: ['kart', 'okumuyor', 'qr', 'okuyucu', 'reader', 'tanÄ±mÄ±yor', 'geÃ§miyor', 'rfid'],
    response: ' ğŸ’³ **Kart ve QR Kod Okuma Sorunu**\n\nâ€¢ KartÄ±nÄ±zÄ± okuyucuya doÄŸru ÅŸekilde yaklaÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zdan emin olun. En uygun okuma mesafesi 2-5 cmdir.<img src="https://i.ibb.co/L5hY5hL/rfid-reading-distance.png" alt="Kart okuma mesafesi" style="max-width:100%; border-radius:8px; margin-top:10px;">\nâ€¢ AyrÄ±ca, kartÄ±n temiz ve hasarsÄ±z olduÄŸundan emin olun.',
    category: 'reader'
},
 // Power and Electrical Issues
{ 
    keywords: ['adaptÃ¶r', 'gÃ¼Ã§', 'elektrik', 'Cihaz gitti', 'aÃ§Ä±lmÄ±yor', 'led', 'Ä±ÅŸÄ±k', 'kÄ±rmÄ±zÄ± led', 'yeÅŸil led'],
    response: 'âš¡ **GÃ¼Ã§ Beslemesi Sorunu**<br><br>**1.** Raspberry Pi Ã¼zerindeki kÄ±rmÄ±zÄ± gÃ¼Ã§ LEDinin sÃ¼rekli yandÄ±ÄŸÄ±ndan emin olun. LEDin konumu iÃ§in gÃ¶rsele bakabilirsiniz:<img src="https://i.ibb.co/3s5W8V5/rpi-power-led.png" alt="Raspberry Pi GÃ¼Ã§ LEDi style="max-width:100%; border-radius:8px; margin-top:10px;"><br><br>**2.** GÃ¼Ã§ adaptÃ¶rÃ¼nÃ¼n **5V 3A** deÄŸerinde olduÄŸundan emin olun.<br>Sorun devam ederse baÅŸka bir adaptÃ¶r deneyin.',
    category: 'power'
},                  
                    
                    // Network and Internet Issues
                    {
                        keywords: ['internet', 'aÄŸ', 'network', 'wifi', 'baÄŸlantÄ±', 'modem', 'ip', 'ethernet', 'lan'],
                        response: 'ğŸ“¡ **Ä°nternet BaÄŸlantÄ±sÄ± Sorunu**\n\n**Ethernet baÄŸlantÄ±sÄ± iÃ§in:**\nâ€¢ Ethernet kablosunun her iki ucunun da sÄ±kÄ±ca takÄ±lÄ± olduÄŸunu kontrol edin\nâ€¢ Router/modem Ã¼zerindeki baÄŸlantÄ± Ä±ÅŸÄ±ÄŸÄ±nÄ±n yandÄ±ÄŸÄ±nÄ± kontrol edin\nâ€¢ BaÅŸka bir ethernet kablosu deneyin\n\n**AÄŸ yapÄ±landÄ±rmasÄ± kontrolÃ¼:**\nâ€¢ Turnike cihazÄ± ile modem/router\'Ä±n aynÄ± aÄŸ Ã¼zerinde olduÄŸundan emin olun\nâ€¢ DiÄŸer cihazlarÄ±n internet baÄŸlantÄ±sÄ±nÄ± test edin\nâ€¢ Modem/router\'Ä± 30 saniye kapatÄ±p tekrar aÃ§Ä±n\n\n**YaygÄ±n problemler:**\nâ€¢ IP adresi Ã§akÄ±ÅŸmasÄ± (aynÄ± aÄŸda aynÄ± IP\'ye sahip iki cihaz)\nâ€¢ DNS sorunu (google.com gibi sitelere eriÅŸim yok)\nâ€¢ GÃ¼venlik duvarÄ± engelleri\n\n**Test:** BilgisayarÄ±nÄ±zdan turnike cihazÄ±nÄ±n IP adresine ping atarak ulaÅŸÄ±labilirliÄŸi test edebilirsiniz.\n\n  <img src="https://projects-static.raspberrypi.org/projects/raspberry-pi-getting-started/c66d8a79f813edd87ee9626e86f5cfbffafbf3e6/en/images/pi-ethernet.png" alt="Ethernet BaÄŸlantÄ±sÄ±" style="max-width:100%; border-radius:8px; margin-top:10px;">',
                        category: 'network'
                    },
                    
                    // Turnstile Mechanical Issues
                    {
                        keywords: ['turnike', 'aÃ§Ä±lmÄ±yor', 'geÃ§miyor', 'kapÄ±', 'motor', 'hareket', 'dÃ¶ner', 'kollar'],
                        response: 'ğŸšª **Turnike GeÃ§iÅŸ Engellenme Sorunu**\n\n**KullanÄ±cÄ± bazlÄ± kontroller:**\nâ€¢ Ãœyelik durumunuzun aktif olduÄŸunu teyit ettirin\nâ€¢ Ãœyelik sÃ¼renizin dolmadÄ±ÄŸÄ±ndan emin olun\nâ€¢ GeÃ§iÅŸ yetkinizin bu saatlerde aktif olduÄŸunu kontrol ettirin\n\n**Mekanik kontroller:**\nâ€¢ Turnike kollarÄ±nÄ±n hareket alanÄ±nda fiziksel engel olup olmadÄ±ÄŸÄ±nÄ± kontrol edin\nâ€¢ KollarÄ±n arasÄ±nda sÄ±kÄ±ÅŸan nesne var mÄ± bakÄ±n\nâ€¢ Manuel aÃ§ma/kapatma dÃ¼ÄŸmesi varsa test edin\n\n**Sensor kontrolleri:**\nâ€¢ GeÃ§iÅŸ sensÃ¶rlerinin Ã¶nÃ¼nde engel olmadÄ±ÄŸÄ±ndan emin olun\nâ€¢ SensÃ¶r bÃ¶lgelerindeki kir/toz birikimini temizleyin\n\n**Acil Ã§Ã¶zÃ¼m:** Ã‡oÄŸu turnikede manuel geÃ§iÅŸ modu bulunur. Yetkili kiÅŸiden bu modu aktif etmesini isteyebilirsiniz.',
                        category: 'mechanical'
                    },
                    
                    // membership and Authorization Issues
                    {
                        keywords: ['Ã¼yelik', 'sÃ¼resi', 'dolmuÅŸ', 'expired', 'membership', 'yetki', 'izin', 'access'],
                        response: 'ğŸ‘¤ **Ãœyelik ve Yetkilendirme Sorunu**\n\n**Kontrol edilmesi gerekenler:**\nâ€¢ ÃœyeliÄŸinizin sistemde **aktif** durumda olduÄŸu\nâ€¢ GeÃ§iÅŸ yetkisinin **bu lokasyon** iÃ§in tanÄ±mlÄ± olduÄŸu\nâ€¢ **Zaman kÄ±sÄ±tlamasÄ±** olup olmadÄ±ÄŸÄ± (belirli saatler arasÄ± geÃ§iÅŸ)\nâ€¢ **Hafta sonu/tatil gÃ¼nÃ¼** kÄ±sÄ±tlamasÄ± bulunup bulunmadÄ±ÄŸÄ±\n\n**YaygÄ±n durumlar:**\nâ€¢ Ãœyelik sÃ¼resi otomatik yenilenmemiÅŸ olabilir\nâ€¢ Ã–deme problemi nedeniyle Ã¼yelik askÄ±ya alÄ±nmÄ±ÅŸ olabilir\nâ€¢ GeÃ§ici olarak sistem yÃ¶neticisi tarafÄ±ndan eriÅŸim kÄ±sÄ±tlanmÄ±ÅŸ olabilir\n\n**Ã‡Ã¶zÃ¼m iÃ§in:** Sistem yÃ¶neticiniz ile iletiÅŸime geÃ§erek Ã¼yelik durumunuzun kontrolÃ¼nÃ¼ ve gerekirse yenilenmesini talep edin.\n\n**Not:** Grup yetkilendirmesi kullanan sistemlerde, grubunuzun yetkilerinde deÄŸiÅŸiklik yapÄ±lmÄ±ÅŸ olabilir.',
                        category: 'membership'
                    },
                    
                    // System Freeze and Performance Issues
                    {
                        keywords: ['sistem', 'dondu', 'freeze', 'kitlendi', 'yanÄ±t', 'vermiyor', 'yavaÅŸ', 'kasÄ±yor'],
                        response: 'ğŸ”„ **Sistem DonmasÄ± ve Performans Sorunu**\n\n**AnÄ±nda Ã§Ã¶zÃ¼m:**\nâ€¢ CihazÄ± **gÃ¼venli ÅŸekilde yeniden baÅŸlatÄ±n** (gÃ¼Ã§ butonunu 5 saniye basÄ±lÄ± tutun)\nâ€¢ Yeniden baÅŸlatma sonrasÄ± 2-3 dakika bekleyip normal Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± gÃ¶zlemleyin\n\n**Performans problemleri:**\nâ€¢ SD kart Ã¶mrÃ¼ dolmuÅŸ olabilir (sÃ¼rekli yazma-okuma nedeniyle)\nâ€¢ Raspberry Pi aÅŸÄ±rÄ± Ä±sÄ±nmÄ±ÅŸ olabilir (soÄŸutma fanÄ± kontrolÃ¼)\nâ€¢ GÃ¼Ã§ beslemesi yetersiz olabilir (adaptÃ¶r kontrolÃ¼)\n\n**KalÄ±cÄ± Ã§Ã¶zÃ¼m iÃ§in gerekli:**\nâ€¢ **Profesyonel Pi3/Pi4 turnike yazÄ±lÄ±mÄ±** yeniden kurulumu\nâ€¢ SD kart yedekleme ve deÄŸiÅŸtirme iÅŸlemi\nâ€¢ Sistem optimizasyonu ve gÃ¼ncelleme\n\n**Kritik:** Sistem sÄ±k sÄ±k donuyorsa, bu donanÄ±m arÄ±zasÄ±nÄ±n iÅŸareti olabilir. Teknik servisle iletiÅŸime geÃ§menizi Ã¶neririz.',
                        category: 'system'
                    },
                    
                    // Database and Integration Issues
                    {
                        keywords: ['veritabanÄ±', 'database', 'entegrasyon', 'senkron', 'crm', 'api', 'baÄŸlantÄ±'],
                        response: 'ğŸ”— **VeritabanÄ± Senkronizasyon Sorunu**\n\n**KullanÄ±cÄ± iÃ§in gÃ¶zlemlenebilir belirtiler:**\nâ€¢ Yeni eklenen Ã¼yelerin sistemde gÃ¶rÃ¼nmemesi\nâ€¢ Ãœyelik gÃ¼ncellemelerinin geÃ§ yansÄ±masÄ±\nâ€¢ GeÃ§iÅŸ loglarÄ±nÄ±n merkezi sistemde eksik gÃ¶rÃ¼nmesi\n\n**Temel kontroller:**\nâ€¢ Ä°nternet baÄŸlantÄ±sÄ±nÄ±n stabil olduÄŸundan emin olun\nâ€¢ Sistem saatinin doÄŸru olup olmadÄ±ÄŸÄ±nÄ± kontrol edin\nâ€¢ Merkezi sunucunun eriÅŸilebilir durumda olduÄŸunu teyit edin\n\n**Senkronizasyon sorunlarÄ±:**\nâ€¢ CRM sistemi ile turnike yazÄ±lÄ±mÄ± arasÄ±ndaki veri alÄ±ÅŸveriÅŸi sekteye uÄŸramÄ±ÅŸ olabilir\nâ€¢ API baÄŸlantÄ± anahtarlarÄ±nÄ±n sÃ¼resi dolmuÅŸ olabilir\nâ€¢ VeritabanÄ± baÄŸlantÄ± timeout sÃ¼releri yetersiz olabilir\n\n**Ã‡Ã¶zÃ¼m:** Bu tÃ¼r entegrasyon sorunlarÄ± sistem yÃ¶neticisi mÃ¼dahalesi gerektirir. Sorunu detaylarÄ±yla bildirerek profesyonel destek talep edin.',
                        category: 'database'
                    },
                    
                    // Hardware Issues
                    {
                        keywords: ['donanÄ±m', 'hardware', 'arÄ±za', 'sensÃ¶r', 'kablo', 'baÄŸlantÄ±', 'devre'],
                        response: 'ğŸ”§ **DonanÄ±m BileÅŸeni ArÄ±zasÄ±**\n\n**GÃ¶zle gÃ¶rÃ¼lebilir kontroller:**\nâ€¢ TÃ¼m kablo baÄŸlantÄ±larÄ±nÄ±n sÄ±kÄ±ca takÄ±lÄ± olduÄŸunu kontrol edin\nâ€¢ KablolarÄ±n ezilme, koparÄ±lma veya hasar gÃ¶rÃ¼p gÃ¶rmediÄŸini inceleyin\nâ€¢ BaÄŸlantÄ± noktalarÄ±nda korozyon, nem veya kir birikimi olup olmadÄ±ÄŸÄ±nÄ± kontrol edin\n\n**Sensor ve motor kontrolleri:**\nâ€¢ GeÃ§iÅŸ sensÃ¶rlerinin LED Ä±ÅŸÄ±klarÄ±nÄ±n yanÄ±p yanmadÄ±ÄŸÄ±nÄ± gÃ¶zlemleyin\nâ€¢ Motor seslerinin normal olup olmadÄ±ÄŸÄ±nÄ± dinleyin (anormal gÄ±cÄ±rdama, zorlanma sesi)\nâ€¢ Turnike kollarÄ±nÄ±n mekanik hareketinin akÄ±cÄ± olup olmadÄ±ÄŸÄ±nÄ± test edin\n\n**Kritik uyarÄ±:** Elektriksel Ã¶lÃ§Ã¼m ve devre analizi gerektiren arÄ±zalar profesyonel mÃ¼dahale gerektirir.\n\n**Ã–nerimiz:** DonanÄ±m arÄ±zasÄ± ÅŸÃ¼phesinde cihazÄ± kapatÄ±p, sorunu detayÄ±yla bildirerek teknik servis desteÄŸi alÄ±n. Yetkisiz mÃ¼dahale garantiyi geÃ§ersiz kÄ±labilir.',
                        category: 'hardware'
                    },
                    
                    // Sd card Ä°ssues 
                    {
                        keywords: ['sd', 'kart', 'memory', 'hafÄ±za', 'corrupt', 'bozuk', 'format'],
                        response: 'ğŸ’¾ **SD Kart ArÄ±zasÄ± (Pi3/Pi4 Sistemi)**\n\n**ArÄ±za belirtileri:**\nâ€¢ Sistem aÃ§Ä±lÄ±ÅŸ sÄ±rasÄ±nda takÄ±lÄ±p kalma\nâ€¢ Beklenmedik yeniden baÅŸlatmalar\nâ€¢ Veri kaybÄ± veya ayarlarÄ±n sÄ±fÄ±rlanmasÄ±\nâ€¢ YeÅŸil LED\'in dÃ¼zensiz yanÄ±p sÃ¶nmesi\n\n**SD kart kontrolÃ¼:**\nâ€¢ SD kartÄ±n fiziksel hasarÄ± olup olmadÄ±ÄŸÄ±nÄ± inceleyin (Ã§atlak, eÄŸilme)\nâ€¢ SD kart yuvasÄ± temiz ve hasar gÃ¶rmemiÅŸ olmalÄ±\nâ€¢ **Class 10** veya daha hÄ±zlÄ± SD kart kullanÄ±lmalÄ± (performans iÃ§in kritik)\n\n**Pi3/Pi4 iÃ§in Ã¶zel durum:**\nâ€¢ Turnike yazÄ±lÄ±mÄ± **Pi3 ve Pi4 iÃ§in optimize edilmiÅŸ** Ã¶zel imaj gerektirir\nâ€¢ Standart Raspberry Pi OS kullanÄ±mÄ± sistem instabilitesine neden olur\nâ€¢ Ã–zel GPIO konfigÃ¼rasyonu ve driver\'lar bulunur\n\n**Profesyonel Ã§Ã¶zÃ¼m gerekli:** SD kart yenileme iÅŸlemi, Ã¶zel turnike yazÄ±lÄ±mÄ±nÄ±n kurulumu ve sistem konfigÃ¼rasyonu teknik bilgi gerektirir. Yetkili servis desteÄŸi almanÄ±zÄ± Ã¶nemle tavsiye ederiz.',
                        category: 'storage'
                    },
                    
                    // Sound and Audio Issues
                    {
                        keywords: ['ses', 'alarm', 'buzzer', 'hoparlÃ¶r', 'uyarÄ±', 'sound', 'audio'],
                        response: 'ğŸ”Š **Ses Sistemi ve UyarÄ± Sorunu**\n\n**Ses Ã§Ä±kmÄ±yor ise:**\nâ€¢ HoparlÃ¶r/buzzer baÄŸlantÄ±larÄ±nÄ±n gevÅŸek olup olmadÄ±ÄŸÄ±nÄ± kontrol edin\nâ€¢ Ses seviyesi ayarlarÄ±nÄ±n kapatÄ±lmÄ±ÅŸ olup olmadÄ±ÄŸÄ±nÄ± kontrol edin\nâ€¢ HoparlÃ¶rÃ¼n fiziksel hasarÄ± olup olmadÄ±ÄŸÄ±nÄ± gÃ¶zlemleyin\n\n**Ses kalitesi problemleri:**\nâ€¢ Parazit, Ã§atlama sesleri kablo arÄ±zasÄ±nÄ± iÅŸaret edebilir\nâ€¢ Ã‡ok yÃ¼ksek/dÃ¼ÅŸÃ¼k ses problemi amplifikatÃ¶r ayar sorunu olabilir\nâ€¢ AnlaÅŸÄ±lmaz ses Ã§Ä±kmasÄ± codec/yazÄ±lÄ±m problemi olabilir\n\n**Test yÃ¶ntemleri:**\nâ€¢ Bilinen Ã§alÄ±ÅŸÄ±r durumda baÅŸka bir hoparlÃ¶r baÄŸlayÄ±n\nâ€¢ FarklÄ± uyarÄ± tonlarÄ±nÄ± test edin (geÃ§iÅŸ onayÄ±, hata sesi vb.)\n\n**Sistem entegrasyonu:** Ses sistemi turnike yazÄ±lÄ±mÄ± ile entegre Ã§alÄ±ÅŸÄ±r. Ses dosyalarÄ±nÄ±n bozulmasÄ± veya codec problemleri yazÄ±lÄ±m gÃ¼ncellemesi gerektirebilir.',
                        category: 'audio'
                    },
                    
                    // Software Updates and Versions - Pi3/Pi4 Ã¶zel
                    {
                        keywords: ['gÃ¼ncelleme', 'update', 'yazÄ±lÄ±m', 'software', 'version', 'sÃ¼rÃ¼m'],
                        response: 'ğŸ”„ **Turnike YazÄ±lÄ±mÄ± GÃ¼ncelleme (Pi3/Pi4)**\n\n**GÃ¼ncelleme Ã¶ncesi hazÄ±rlÄ±k:**\nâ€¢ Mevcut sistem versiyonunu not alÄ±n\nâ€¢ Ä°nternet baÄŸlantÄ±sÄ±nÄ±n stabil olduÄŸundan emin olun\nâ€¢ GÃ¼ncelleme sÄ±rasÄ±nda elektrik kesintisi olmamasÄ± iÃ§in UPS kullanÄ±n\n\n**Pi3/Pi4 Ã¶zel durumlar:**\nâ€¢ **Pi3 ve Pi4 farklÄ± yazÄ±lÄ±m versiyonlarÄ±** kullanÄ±r (donanÄ±m uyumluluÄŸu)\nâ€¢ GPIO pin konfigÃ¼rasyonlarÄ± model bazÄ±nda deÄŸiÅŸiklik gÃ¶sterir\nâ€¢ Turnike motor/sensÃ¶r driver\'larÄ± modele Ã¶zel optimize edilmiÅŸtir\n\n**GÃ¼ncelleme tÃ¼rleri:**\nâ€¢ **Otomatik gÃ¼ncellemeler:** Sistem otomatik olarak kÃ¼Ã§Ã¼k gÃ¼ncellemeleri alÄ±r\nâ€¢ **Uzaktan gÃ¼ncelleme:** Teknik ekip tarafÄ±ndan uzaktan yapÄ±labilir\nâ€¢ **Manuel gÃ¼ncelleme:** USB/SD kart ile yapÄ±lÄ±r (bÃ¼yÃ¼k gÃ¼ncellemeler iÃ§in)\n\n**Ã–nemli uyarÄ±:** YanlÄ±ÅŸ Pi modeli iÃ§in yazÄ±lÄ±m yÃ¼klenmesi sistem arÄ±zasÄ±na neden olur. GÃ¼ncelleme iÅŸlemlerinin mutlaka yetkili teknik personel tarafÄ±ndan yapÄ±lmasÄ± Ã¶nerilir.',
                       category: 'software'
                   },
                   
                   // Tech Support Contact
                   {
                       keywords: ['destek', 'support', 'yardÄ±m', 'help', 'iletiÅŸim', 'telefon', 'arÄ±yorum'],
                       response: this.getSupportContact(),
                       category: 'support'
                   },
                   
                   //Raspberry pi secret and optimization
                   {
                       keywords: ['raspberry', 'pi3', 'pi4', 'gpio', 'pin', 'cpu', 'sÄ±caklÄ±k', 'Ä±sÄ±nma'],
                       response: 'ğŸ“ **Raspberry Pi DonanÄ±m Optimizasyonu**\n\n**SÄ±caklÄ±k yÃ¶netimi:**\nâ€¢ Pi3: Normal Ã§alÄ±ÅŸma sÄ±caklÄ±ÄŸÄ± 65Â°C altÄ±nda olmalÄ±\nâ€¢ Pi4: Daha gÃ¼Ã§lÃ¼ iÅŸlemci nedeniyle 70Â°C altÄ±nda tutulmalÄ±\nâ€¢ AÅŸÄ±rÄ± Ä±sÄ±nma durumunda sistem otomatik olarak hÄ±zÄ±nÄ± dÃ¼ÅŸÃ¼rÃ¼r (throttling)\n\n**SoÄŸutma Ã§Ã¶zÃ¼mleri:**\nâ€¢ Aktif soÄŸutma fanÄ±nÄ±n Ã§alÄ±ÅŸÄ±p Ã§alÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol edin\nâ€¢ Hava sirkÃ¼lasyonunun engellenmediÄŸinden emin olun\nâ€¢ Heat sink\'lerin doÄŸru monte edildiÄŸini kontrol edin\n\n**GPIO ve Pin yÃ¶netimi:**\nâ€¢ Turnike sistemi Ã¶zel GPIO pinleri kullanÄ±r (motor, sensÃ¶r, okuyucu iÃ§in)\nâ€¢ Pin konfigÃ¼rasyonu Pi3 ve Pi4 arasÄ±nda farklÄ±lÄ±k gÃ¶sterebilir\nâ€¢ GPIO pin hasarÄ± tÃ¼m sistem iÅŸlevselliÄŸini etkileyebilir\n\n**Boot ve konfigÃ¼rasyon:**\nâ€¢ Sistem Ã¶zgÃ¼n turnike yazÄ±lÄ±mÄ± ile optimize edilmiÅŸtir\nâ€¢ Hardware revision otomatik olarak algÄ±lanÄ±r\nâ€¢ Boot sÄ±rasÄ±nda sistem otomatik donanÄ±m testlerini gerÃ§ekleÅŸtirir\n\n**Performans karÅŸÄ±laÅŸtÄ±rmasÄ±:**\nâ€¢ **Pi4:** Daha hÄ±zlÄ± iÅŸlem, daha fazla RAM, USB 3.0 desteÄŸi\nâ€¢ **Pi3:** Daha dÃ¼ÅŸÃ¼k gÃ¼Ã§ tÃ¼ketimi, proven stability\nâ€¢ **Ã–nerilen:** YoÄŸun kullanÄ±m iÃ§in Pi4, sÃ¼rekli Ã§alÄ±ÅŸma iÃ§in Pi3\n\n**Sistem durumu kontrolÃ¼:** KÄ±rmÄ±zÄ± LED sÃ¼rekli yanÄ±yorsa gÃ¼Ã§ OK, yeÅŸil LED yanÄ±p sÃ¶nÃ¼yorsa SD kart aktivitesi normal demektir.',
                       category: 'raspberry'
                   },

                   // Security and Access Control
                   {
                       keywords: ['gÃ¼venlik', 'security', 'ÅŸifre', 'password', 'hack', 'yetkisiz', 'eriÅŸim'],
                       response: 'ğŸ” **GÃ¼venlik ve EriÅŸim Kontrol Sistemi**\n\n**Normal gÃ¼venlik iÅŸleyiÅŸi:**\nâ€¢ Her geÃ§iÅŸ denenme logu tutulur ve merkezi sisteme gÃ¶nderilir\nâ€¢ Yetkisiz eriÅŸim denemelerinde otomatik uyarÄ± sistemi devreye girer\nâ€¢ Sistem admin ÅŸifresi dÃ¼zenli olarak deÄŸiÅŸtirilmelidir\n\n**ÅÃ¼pheli durumlar:**\nâ€¢ Art arda yapÄ±lan baÅŸarÄ±sÄ±z geÃ§iÅŸ denemeleri\nâ€¢ Sistem saati manipÃ¼lasyonu giriÅŸimleri\nâ€¢ Bilinmeyen kart/QR kodlarla sÃ¼rekli deneme\n\n**GÃ¼venlik Ã¶nlemleri:**\nâ€¢ Fiziksel eriÅŸimi olan kiÅŸiler sÄ±nÄ±rlÄ± olmalÄ±\nâ€¢ Sistem paneli kilitli bir dolap iÃ§inde tutulmalÄ±\nâ€¢ AÄŸ trafiÄŸi gÃ¼venli kanallardan geÃ§melidir\n\n**Acil gÃ¼venlik modu:** Sistem yÃ¶neticisi uzaktan tÃ¼m eriÅŸimleri durdurabilir ve manuel kontrol moduna geÃ§ebilir.',
                       category: 'security'
                   },

                   // Cleanup and Maintenance
                   {
                       keywords: ['bakÄ±m', 'maintenance', 'temizlik', 'cleaning', 'servis', 'periyodik'],
                       response: 'ğŸ§¹ **DÃ¼zenli BakÄ±m ve Temizlik Rehberi**\n\n**HaftalÄ±k bakÄ±m (kullanÄ±cÄ± yapabilir):**\nâ€¢ Kart okuyucu yÃ¼zeyini kuru bezle temizleyin\nâ€¢ Turnike kollarÄ±nÄ±n hareket alanÄ±nÄ± kontrol edin\nâ€¢ Sensor bÃ¶lgelerindeki toz birikimini temizleyin\nâ€¢ Ekran yÃ¼zeyini Ã¶zel monitÃ¶r bezi ile silin\n\n**AylÄ±k kontroller:**\nâ€¢ TÃ¼m kablo baÄŸlantÄ±larÄ±nÄ±n sÄ±kÄ±lÄ±ÄŸÄ±nÄ± kontrol edin\nâ€¢ HavalandÄ±rma alanlarÄ±nÄ±n temiz olduÄŸundan emin olun\nâ€¢ Ses sistemi Ã§alÄ±ÅŸmasÄ±nÄ± test edin\nâ€¢ Manuel geÃ§iÅŸ dÃ¼ÄŸmelerinin Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± kontrol edin\n\n**Profesyonel bakÄ±m (teknik servis):**\nâ€¢ 6 ayda bir kapsamlÄ± sistem kontrolÃ¼\nâ€¢ YazÄ±lÄ±m gÃ¼ncellemeleri ve gÃ¼venlik yamalarÄ±\nâ€¢ Mekanik parÃ§alarÄ±n yaÄŸlanmasÄ± ve ayarlanmasÄ±\nâ€¢ Elektronik bileÅŸenlerin test edilmesi\n\n**Ã–nemli:** Su ve kimyasal temizlik maddeleri kullanmayÄ±n. Sadece kuru veya hafif nemli bez kullanÄ±n.',
                       category: 'maintenance'
                   },

                   // Emergency
                   {
                       keywords: ['acil', 'emergency', 'yangÄ±n', 'elektrik', 'kesinti', 'panik', 'tahliye'],
                       response: 'ğŸš¨ **Acil Durum ve Tahliye ProsedÃ¼rleri**\n\n**Elektrik kesintisi:**\nâ€¢ UPS sistemi devreye girer (yaklaÅŸÄ±k 2-4 saat yedek gÃ¼Ã§)\nâ€¢ Otomatik olarak "aÃ§Ä±k geÃ§iÅŸ" moduna geÃ§er\nâ€¢ TÃ¼m turnike kollarÄ± serbest hareket eder\nâ€¢ Normal elektrik geldiÄŸinde sistem otomatik baÅŸlar\n\n**YangÄ±n alarmÄ± durumunda:**\nâ€¢ YangÄ±n algÄ±lama sistemi ile entegre sistemler otomatik aÃ§Ä±lÄ±r\nâ€¢ Manuel acil aÃ§ma butonu ile tÃ¼m turnikeler aÃ§Ä±labilir\nâ€¢ Sistem tahliye moduna geÃ§er (sadece Ã§Ä±kÄ±ÅŸ yÃ¶nÃ¼ aktif)\n\n**Sistem arÄ±zasÄ± durumunda:**\nâ€¢ Mekanik manuel aÃ§ma kolu kullanÄ±labilir\nâ€¢ Acil durum anahtarÄ± ile sistem bypass edilebilir\nâ€¢ GÃ¼venlik gÃ¶revlisi manuel kontrol yapabilir\n\n**Ä°letiÅŸim:** Acil durumlarda **+90 212 555 0123** numarasÄ±nÄ± arayÄ±n. 7/24 acil destek hattÄ±mÄ±z aktiftir.\n\n**Yasal gereklilik:** TÃ¼m acil Ã§Ä±kÄ±ÅŸ yollarÄ± her zaman aÃ§Ä±k ve eriÅŸilebilir durumda tutulmalÄ±dÄ±r.',
                       category: 'emergency'
                   },

                   // Sistem DiagnostiÄŸi ve Test
                   {
                       keywords: ['test', 'diagnostik', 'kontrol', 'check', 'durum', 'status', 'Ã§alÄ±ÅŸÄ±yor', 'test et'],
                       response: 'ğŸ” **Sistem TanÄ±lama ve Test Rehberi**\n\n**HÄ±zlÄ± sistem kontrolÃ¼:**\nâ€¢ **GÃ¼Ã§ durumu:** KÄ±rmÄ±zÄ± LED sÃ¼rekli yanÄ±yor mu?\nâ€¢ **Aktivite durumu:** YeÅŸil LED ara ara yanÄ±p sÃ¶nÃ¼yor mu?\nâ€¢ **Ekran durumu:** Turnike ana ekranÄ± gÃ¶rÃ¼nÃ¼yor mu?\nâ€¢ **Ses testi:** Test butonuna bastÄ±ÄŸÄ±nÄ±zda ses geliyor mu?\n\n**BileÅŸen testleri:**\nâ€¢ **Kart okuyucu testi:** Bilinen Ã§alÄ±ÅŸÄ±r kartla test yapÄ±n\nâ€¢ **QR okuyucu testi:** Test QR kodunu okutmayÄ± deneyin\nâ€¢ **Motor testi:** Manuel test dÃ¼ÄŸmesi ile motor sesini dinleyin\nâ€¢ **Sensor testi:** GeÃ§iÅŸ alanÄ±na nesne koyup sensÃ¶r tepkisini gÃ¶zlemleyin\n\n**AÄŸ baÄŸlantÄ±sÄ± testi:**\nâ€¢ DiÄŸer cihazlardan turnike IP adresine ping atÄ±n\nâ€¢ Ä°nternet baÄŸlantÄ±sÄ±nÄ± baÅŸka cihazla test edin\nâ€¢ Router/modem baÄŸlantÄ± Ä±ÅŸÄ±klarÄ±nÄ± kontrol edin\n\n**Profesyonel tanÄ±lama:** KapsamlÄ± sistem analizi iÃ§in uzaktan baÄŸlantÄ± ile detaylÄ± teÅŸhis yapabiliriz.',
                       category: 'diagnostic'
                   },

                   // Performans Ä°zleme  
                   {
                       keywords: ['performans', 'performance', 'yavaÅŸ', 'hÄ±z', 'optimization', 'optimize'],
                       response: 'âš¡ **Sistem PerformansÄ± ve Optimizasyon**\n\n**Performans gÃ¶stergeleri:**\nâ€¢ **Kart okuma sÃ¼resi:** 1-2 saniye normal\nâ€¢ **QR okuma sÃ¼resi:** 2-3 saniye normal  \nâ€¢ **Turnike aÃ§Ä±lma sÃ¼resi:** 1 saniye normal\nâ€¢ **Sistem baÅŸlangÄ±Ã§ sÃ¼resi:** 30-45 saniye normal\n\n**PerformansÄ± etkileyen faktÃ¶rler:**\nâ€¢ SD kart kalitesi ve yaÅŸÄ± (Class 10+ Ã¶nerilen)\nâ€¢ CPU sÄ±caklÄ±ÄŸÄ± (70Â°C Ã¼zeri performans dÃ¼ÅŸÃ¼rÃ¼r)\nâ€¢ RAM kullanÄ±mÄ± (Pi3: 1GB, Pi4: 2-4-8GB seÃ§enekleri)\nâ€¢ AÄŸ baÄŸlantÄ±sÄ± hÄ±zÄ± ve stability\n\n**Optimizasyon Ã¶nerileri:**\nâ€¢ **SSD kullanÄ±mÄ±:** USB SSD Pi4 iÃ§in bÃ¼yÃ¼k performans artÄ±ÅŸÄ±\nâ€¢ **SoÄŸutma:** Aktif soÄŸutma sistemi Ã¶nerilen\nâ€¢ **GÃ¼Ã§:** Kaliteli 5V 3A adaptÃ¶r kritik\nâ€¢ **AÄŸ:** Gigabit ethernet Pi4 iÃ§in Ã¶nerilen\n\n**Pi3 vs Pi4 performans:**\nâ€¢ Pi4: %300 daha hÄ±zlÄ± iÅŸlemci, USB 3.0, Gigabit Ethernet\nâ€¢ Pi3: Daha az gÃ¼Ã§ tÃ¼ketimi, kanÄ±tlanmÄ±ÅŸ kararlÄ±lÄ±k',
                       category: 'performance'
                   }
               ];
               
               this.initEventListeners();
               window.chatbot = this; // Global eriÅŸim iÃ§in
           }

           initEventListeners() {
               this.chatButton.addEventListener('click', () => this.toggleChat());
               this.closeBtn.addEventListener('click', () => this.closeChat());
               this.sendBtn.addEventListener('click', () => this.sendMessage());
               this.chatInput.addEventListener('keypress', (e) => {
                   if (e.key === 'Enter') this.sendMessage();
               });
               
               // Close chat when clicking outside
               document.addEventListener('click', (e) => {
                   if (!this.chatPanel.contains(e.target) && !this.chatButton.contains(e.target)) {
                       if (this.chatPanel.style.display === 'flex') {
                           this.closeChat();
                       }
                   }
               });
           }

           getSupportContact() {
               return `ğŸ“ **Profesyonel Teknik Destek Merkezi**

**ğŸ• Ã‡alÄ±ÅŸma Saatleri:**
- **Hafta iÃ§i:** 08:00 - 18:00 (Uzman teknik ekip)
- **Cumartesi:** 10:00 - 15:00 (SÄ±nÄ±rlÄ± destek)
- **Acil durumlar:** 7/24 kesintisiz hizmet

**ğŸ“± Ä°letiÅŸim KanallarÄ±:**
- **Acil Destek HattÄ±:** +90 212 555 0123
- **WhatsApp Destek:** +90 533 555 0123  
- **E-posta:** Maksisoft@destek.com

**ğŸ’» Uzaktan Destek:**
- Alpemix ile anlÄ±k mÃ¼dahale
- Uzaktan yazÄ±lÄ±m gÃ¼ncelleme
- CanlÄ± sistem monitoring
- HÄ±zlÄ± problem tespiti
- YazÄ±lÄ±m optimizasyonu

**ğŸ”§ Yerinde Teknik Servis:**
- **Yedek parÃ§a stoku** her zaman hazÄ±r
- HÄ±zlÄ± mÃ¼dahale garantisi
- DonanÄ±m arÄ±zalarÄ±nda hÄ±zlÄ± deÄŸiÅŸim
- Uzman teknisyenler
- HÄ±zlÄ± arÄ±za tespiti

**ğŸ“‹ Destek talebinde belirtmeniz gerekenler:**
- Ariza detayÄ± ve ne zaman baÅŸladÄ±ÄŸÄ±
- Hata kodlarÄ± (varsa ekranda gÃ¶rÃ¼nen)
- KullandÄ±ÄŸÄ±nÄ±z turnikenin modeli (FotoÄŸraf)
- Turnikenin hatasÄ±nÄ±n fotoÄŸrafÄ± (varsa)

**ğŸ¯ Uzman ekibimiz Pi3/Pi4 tabanlÄ± turnike sistemlerinde 15+ yÄ±l deneyimlidir.**`;
           }

           toggleChat() {
               if (this.chatPanel.style.display === 'flex') {
                   this.closeChat();
               } else {
                   this.openChat();
               }
           }

           openChat() {
               this.chatPanel.style.display = 'flex';
               this.chatInput.focus();
           }

           closeChat() {
               this.chatPanel.style.display = 'none';
           }

           quickQuestion(question) {
               this.addMessage(question, 'user');
               this.showTyping();
               
               setTimeout(() => {
                   this.hideTyping();
                   const response = this.getBotResponse(question);
                   this.addMessage(response, 'bot');
               }, 800 + Math.random() * 700);
           }

           sendMessage() {
               const message = this.chatInput.value.trim();
               if (!message) return;

               this.addMessage(message, 'user');
               this.chatInput.value = '';
               this.sendBtn.disabled = true;
               
               // Show typing indicator
               this.showTyping();
               
               // Simulate bot response delay
               setTimeout(() => {
                   this.hideTyping();
                   const response = this.getBotResponse(message);
                   this.addMessage(response, 'bot');
                   this.sendBtn.disabled = false;
               }, 1200 + Math.random() * 1000);
           }

           addMessage(text, sender) {
               const messageDiv = document.createElement('div');
               messageDiv.classList.add('message');
               messageDiv.classList.add(sender === 'user' ? 'user-message' : 'bot-message');
               
               // Format bot messages with better HTML rendering
               if (sender === 'bot') {
                   messageDiv.innerHTML = text.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
               } else {
                   messageDiv.textContent = text;
               }
               
               this.chatMessages.appendChild(messageDiv);
               this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
           }

           showTyping() {
               this.typingIndicator.style.display = 'block';
               this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
           }

           hideTyping() {
               this.typingIndicator.style.display = 'none';
           }

getBotResponse(userMessage) {
    const lowerMessage = userMessage.toLowerCase();
    
    //---------------------------------------------------------
    // Dynamic Flow Control Section
    // Handles multi-step troubleshooting flows.
    //---------------------------------------------------------

    // Power issue flow
    if (this.currentState === 'power_issue_step1') {
        if (lowerMessage.includes('evet') || lowerMessage.includes('yes')) {
            this.currentState = 'power_issue_step2';
            return 'âœ… AnlaÅŸÄ±ldÄ±. Peki, Raspberry Pi Ã¼zerindeki kÄ±rmÄ±zÄ± gÃ¼Ã§ LEDâ€™i sÃ¼rekli yanÄ±yor mu? <br><br> (evet/hayÄ±r)';
        } else if (lowerMessage.includes('hayÄ±r') || lowerMessage.includes('no')) {
            this.currentState = 'initial';
            return 'O zaman adaptÃ¶rÃ¼nÃ¼zÃ¼n tam olarak takÄ±lÄ± olduÄŸundan emin olun ve farklÄ± bir priz deneyin. EÄŸer sorun Ã§Ã¶zÃ¼lmezse, lÃ¼tfen destek ekibimizle iletiÅŸime geÃ§in.';
        }
    }
    
    if (this.currentState === 'power_issue_step2') {
        if (lowerMessage.includes('evet') || lowerMessage.includes('yes')) {
            this.currentState = 'initial';
            return 'Harika! O zaman adaptÃ¶rÃ¼nÃ¼z Ã§alÄ±ÅŸÄ±yor. Sorun HDMI veya SD kartta olabilir. LÃ¼tfen ekran sorunlarÄ± bÃ¶lÃ¼mÃ¼ne bakÄ±n veya SD kartÄ±nÄ±zÄ± kontrol edin.';
        } else if (lowerMessage.includes('hayÄ±r') || lowerMessage.includes('no')) {
            this.currentState = 'initial';
            return `âŒ **Sorun Bulundu: GÃ¼Ã§ KaynaÄŸÄ±**<br><br>
                EÄŸer kÄ±rmÄ±zÄ± LED yanmÄ±yorsa, bu durum ya adaptÃ¶rÃ¼nÃ¼zÃ¼n bozuk olduÄŸu ya da Pi'de donanÄ±m sorunu olduÄŸu anlamÄ±na gelir. Ne yazÄ±k ki SD kartÄ±nÄ±z bozulmuÅŸ olabilir. Bu durumda, profesyonel destek almanÄ±z gerekir.`;
        }
    }

    // Slow QR/Card reading flow
    if (this.currentState === 'slow_qr_step1') {
        if (lowerMessage.includes('evet') || lowerMessage.includes('yes')) {
            this.currentState = 'initial';
            return 'O halde sorun internet baÄŸlantÄ±nÄ±zda deÄŸil. LÃ¼tfen cihazÄ± yeniden baÅŸlatmayÄ± deneyin. Sorun devam ederse, bu durum donanÄ±msal bir arÄ±za olabilir. Profesyonel destek iÃ§in bize ulaÅŸÄ±n.';
        } else if (lowerMessage.includes('hayÄ±r') || lowerMessage.includes('no')) {
            this.currentState = 'initial';
            return 'Ä°nternet baÄŸlantÄ±nÄ±zda sorun olabilir. LÃ¼tfen modeminizi ve turnikeyi yeniden baÅŸlatÄ±n. BaÄŸlantÄ± saÄŸlandÄ±ktan sonra tekrar deneyin.';
        }
    }

    // Mechanical error flow
    if (this.currentState === 'mechanical_error_step1') {
        if (lowerMessage.includes('evet') || lowerMessage.includes('yes')) {
            this.currentState = 'initial';
            return 'O zaman mekanik bir arÄ±za olabilir. LÃ¼tfen turnikenin kollarÄ±nÄ± manuel olarak kontrol edin, herhangi bir sÄ±kÄ±ÅŸma veya engel var mÄ± bakÄ±n. Sorun devam ediyorsa, teknik ekibimizle gÃ¶rÃ¼ÅŸmeniz gerekir.';
        } else if (lowerMessage.includes('hayÄ±r') || lowerMessage.includes('no')) {
            this.currentState = 'initial';
            return 'âŒ **Sorun Bulundu: Kablo baÄŸlantÄ±sÄ±**<br><br>LÃ¼tfen tÃ¼m kablolarÄ± sÄ±kÄ±ca yerine oturtun. Kablolar takÄ±lÄ± deÄŸilse turnike dÃ¼zgÃ¼n Ã§alÄ±ÅŸmaz. Bu iÅŸlem sorununuzu Ã§Ã¶zmezse bize ulaÅŸÄ±n.';
        }
    }

    // IP access issue flow
    if (this.currentState === 'ip_access_step1') {
        if (lowerMessage.includes('evet') || lowerMessage.includes('yes')) {
            this.currentState = 'initial';
            return 'EÄŸer tarama sonucunda Raspberry Pi\'Ä±n IP adresini bulduysanÄ±z ama hala eriÅŸemiyorsanÄ±z, aÄŸ ayarlarÄ±nda bir sorun olabilir. LÃ¼tfen aÄŸ yÃ¶neticinize danÄ±ÅŸÄ±n veya destek ekibimizle iletiÅŸime geÃ§in.';
        } else if (lowerMessage.includes('hayÄ±r') || lowerMessage.includes('no')) {
            this.currentState = 'initial';
            return `âŒ **Sorun Bulundu: IP Adresi**<br><br>
                EÄŸer Advanced IP Scanner ile cihazÄ±n IP adresini bulamÄ±yorsanÄ±z, turnikenin aÄŸ baÄŸlantÄ±sÄ± koptu demektir. <br><br>
                **Ã‡Ã¶zÃ¼m:** Ethernet kablosunun takÄ±lÄ± olduÄŸundan ve modemin Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun. HÄ±zlÄ± Ã§Ã¶zÃ¼m iÃ§in cihazÄ± ve modemi yeniden baÅŸlatmayÄ± deneyin.
                `;
        }
    }

    //---------------------------------------------------------
    //  Initial Keyword Detection Section
    // Handles initial keyword detection and dynamic flow initiation.
    //---------------------------------------------------------
    for (const item of this.knowledgeBase) {
        for (const keyword of item.keywords) {
            if (lowerMessage.includes(keyword)) {
            
                if (keyword === 'gÃ¼Ã§' || keyword === 'power' || keyword === 'adaptÃ¶r') {
                    this.currentProblem = 'GÃ¼Ã§ Sorunu';
                    this.currentState = 'power_issue_step1';
                    return 'GÃ¼Ã§ adaptÃ¶rÃ¼nÃ¼zÃ¼n tam olarak takÄ±lÄ± olduÄŸundan emin misiniz? <br><br> (evet/hayÄ±r)';
                }
                if (keyword === 'yavaÅŸ' || keyword === 'geÃ§' || keyword === 'okumuyor') {
                    this.currentProblem = 'QR/Kart Okuma Sorunu';
                    this.currentState = 'slow_qr_step1';
                    return 'CihazÄ±n internet baÄŸlantÄ±sÄ± dÃ¼zgÃ¼n Ã§alÄ±ÅŸÄ±yor mu? <br><br> (evet/hayÄ±r)';
                }
                if (keyword === 'mekanik' || keyword === 'sÄ±kÄ±ÅŸtÄ±' || keyword === 'aÃ§Ä±lmÄ±yor') {
                    this.currentProblem = 'Mekanik Sorun';
                    this.currentState = 'mechanical_error_step1';
                    return 'Turnikenin kablo baÄŸlantÄ±larÄ±nÄ±n saÄŸlam olduÄŸunu kontrol ettiniz mi? <br><br> (evet/hayÄ±r)';
                }
                if (keyword === 'eriÅŸemiyorum' || keyword === 'baÄŸlanamÄ±yorum' || keyword === 'ip') {
                    this.currentProblem = 'AÄŸa EriÅŸim Sorunu';
                    this.currentState = 'ip_access_step1';
                    return 'Advanced IP Scanner gibi bir programla cihazÄ±n IP adresini bulabiliyor musunuz? <br><br> (evet/hayÄ±r)';
                }
                
                // Other keywords lead to direct responses
                return item.response;
            }
        }
    }
    
    // Fallback response if no keywords matched
    return `
Bu konuda standart Ã§Ã¶zÃ¼mlerimizde eÅŸleÅŸme bulamadÄ±m. Sorununuz daha Ã¶zel bir analiz gerektirebilir.

**ğŸ¯ Ã–nerdiÄŸim adÄ±mlar:**
- Sorununuzu daha detaylandÄ±rabilir misiniz?
- Hangi iÅŸlem sÄ±rasÄ±nda sorun oluÅŸuyor?
- Hata mesajÄ± var mÄ±? Varsa tam olarak ne diyor?
- Sorun ne zaman baÅŸladÄ±? (bugÃ¼n, dÃ¼n, geÃ§en hafta?)

**âš¡ HÄ±zlÄ± Ã§Ã¶zÃ¼m iÃ§in yukarÄ±daki kategorileri deneyin:**
ğŸ“º Ekran â€¢ ğŸ’³ Kart Okuma â€¢ ğŸšª GeÃ§iÅŸ â€¢ ğŸ“¡ Ä°nternet â€¢ ğŸ”„ Sistem

**ğŸ“ Profesyonel destek iÃ§in:**
- **Acil:** +90 212 555 0123
- **WhatsApp:** +90 533 555 0123
- **E-posta:** teknik@turnikedestek.com

**â° Ortalama yanÄ±t sÃ¼remiz:** 
- Telefon: 30 saniye
- WhatsApp: 2 dakika  
- E-posta: 15 dakika

Pi3/Pi4 uzmanlarÄ±mÄ±z sorununuzu hÄ±zla Ã§Ã¶zecektir! ğŸš€`;
           }
       }

       // Initialize chatbot when page loads
       document.addEventListener('DOMContentLoaded', () => {
           new TurnikeChatbot();
       });
   </script>
</body>
</html>